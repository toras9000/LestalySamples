#!/usr/bin/env -S dotnet run --file
#:package Lestaly.General@0.112.0
using Lestaly;

return await Paved.ProceedAsync(async () =>
{
    // 複数の TextWriter に同じ内容を出力する TeeWriter
    using var tee = new TeeWriter();
    tee.Bind(Console.Out);
    tee.Bind(ThisSource.RelativeFile("TeeWriter.txt").CreateTextWriter());

    await tee.WriteLineAsync("test1");
    await tee.WriteLineAsync("test2");
});
